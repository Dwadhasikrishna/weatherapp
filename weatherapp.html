<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- remixicon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.css" integrity="sha512-HXXR0l2yMwHDrDyxJbrMD9eLvPe3z3qL3PPeozNTsiHJEENxx8DH2CxmV05iwG0dwoz5n4gQZQyYLUNt1Wdgfg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="./weather.css">

   
    
</head>
<body id="image" style="background-image: url('https://wallpapers.com/images/hd/cloudy-background-gyzlbiqodsevez6b.jpg'); background-repeat: no-repeat;background-size: cover; ">
    <div class="container">
        <!-- weather -->
        <div class="row">
            <div class="col-3"></div>
            <div class="col-6"></div>
                <!-- <h4 class="mt-5 text-center" style="color:rgb(14, 35, 74); font-weight: bold;">Weather</h4> -->
                </div>
            <div class="col-3"></div>
        </div>

        <!-- serach bar -->
        <div class="row">
            <div class="col-3 col-12 col-s-6 col-md-4">
                <div class="d-flex mt-5">
                    <input type="text" id="inputname" placeholder="Enter City Name" class="form-control ms-3 rounded" style="opacity: 0.4;">

                    <button onclick="search()" class="btn btn-outline-dark rounded ms-2 " style="opacity: 0.7;" type="button"><i class="ri-search-line ri-2x"></i></button>
                    <a href="javascript: location. reload();" class="btn btn-outline-dark rounded ms-1 " style=" opacity: 0.7; "><i class="ri-refresh-line  ri-2x"></i></a>
                </div>
            </div>

            <div class="col-6"></div>
            <div class="col-3"></div>
        </div>

        <div class="row">
            <div class="col-6">
                <!-- <div id="result">
                </div> -->
                <div id="result" class="weather-card card ms-3  mt-5" style="max-width: 540px; border: none;">

                </div>
            </div>
           
            <div class="col-6">
                <!-- <div id="result1">
                </div> -->
                <div class="weather-card1 card mt-5" id="result1"  style="max-width: 450px; opacity: 0.5;">
                    <div class="card-body">
                        <h3 class="card-title text-center  mt-5 ">Weather Details</h3>
                    
                        <h4 class="card-subtitle mb-2 ms-5 mt-5 ">Country :</h4>
                    
                        <h4 class="card-subtitle mb-2 ms-5 mt-5  ">Humidity : </h4>
                    
                        <h4 class="card-subtitle mb-2 ms-5 mt-5 ">Wind : </h4>
                    
                        <h4 class="card-subtitle mb-2 ms-5 mt-5 ">Pressure :</h4>
                        
                      </div>
                    </div>
            </div>
        </div>

    </div>
</body>
<script>
    //function definition

    const search =async()=>{
        let cityName = inputname.value
        console.log(cityName); 
        if(cityName){
        response  = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=7daefb1fbaf85328321a823d847533d8`)
        response.json().then((data)=>{
            console.log(data);

            let cname = data.name
            console.log(cname);

            let cntryName = data.sys.country
            console.log(cntryName);

            let humidity = data.main.humidity
            console.log(humidity);

            let pressure = data.main.pressure
            console.log(pressure);

            let wind = data.wind.speed
            console.log(wind);

            let temp = data.main.temp
            temp = eval((temp-273.15))
            temperature=temp.toFixed(1)
            console.log(temperature);

            var date=Date()
            console.log(date);

            climate= data.weather[0].main
            console.log(climate);

            if(climate=='Mist'){
                image.style.backgroundImage = "url('https://static.vecteezy.com/system/resources/previews/011/227/521/large_2x/landscape-of-haunted-mist-forest-dark-background-creepy-and-scary-concept-3d-rendering-free-photo.jpg')"   
            }
            else if(climate=='Clouds'){
                image.style.backgroundImage = "url('https://images.unsplash.com/photo-1533983272060-edb6f56af634?auto=format&fit=crop&q=80&w=1000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bmlnaHQlMjBza3klMjBjbG91ZHN8ZW58MHx8MHx8fDA%3D')"   
            }
            else if(climate=='Clear'){
                image.style.backgroundImage = "url('https://4kwallpapers.com/images/wallpapers/lake-mountains-blue-sky-landscape-clear-sky-reflection-2732x2732-2622.jpg')"   
            }
            else if(climate=='Rain'){
                image.style.backgroundImage = "url('https://wallpaperaccess.com/full/1170480.jpg')"   
            }
            else if(climate=='Haze'){
                image.style.backgroundImage = "url('https://images.pexels.com/photos/2529973/pexels-photo-2529973.jpeg?cs=srgb&dl=pexels-trace-hudson-2529973.jpg&fm=jpg')"   
            }
            else{
            image.style.backgroundImage = "url('https://wallpapers.com/images/hd/cloudy-background-gyzlbiqodsevez6b.jpg')"  
            }



            result1.innerHTML=`
  <div class="card-body">
    <h3 class="card-title text-center  mt-5 ">Weather Details</h3>

    <h4 class="card-subtitle mb-2 ms-5 mt-5 ">Country : ${cntryName}</h4>

    <h4 class="card-subtitle mb-2 ms-5 mt-5  ">Humidity : ${humidity}</h4>

    <h4 class="card-subtitle mb-2 ms-5 mt-5 ">Wind : ${wind}</h4>

    <h4 class="card-subtitle mb-2 ms-5 mt-5 ">Pressure : ${pressure}</h4>
    
  </div>
  </div>
`


 result.innerHTML=`
  <div class=" row g-0">
    <div class="col-md-4">
      <img src="https://www.climatecentre.org/wp-content/uploads/50732673132_b8496ee4f8_k.jpg" class="img-fluid rounded-start"  alt="...">
    </div>
    <div class="col-md-8">
      <div class=" card-body">
        <h1 class=" card-title mt-3 ms-2 mb-2"> ${temperature}<sup>o</sup>C</h1>
        <h5 class=" card-title mt-3 ms-2 mb-2">feels like ${temperature}<sup>o</sup>C</h5>
        <h5 class=" card-title mt-3 ms-2 mb-2">${cname}</h5>
        <h5 class=" card-title mt-3 ms-2 mb-2">${date}</h5>
      </div>
    </div>
  </div>
</div>`

// result.innerHTML=`<div class="weather-card card ms-3 mt-5" style="max-width: 400px;">
//   <img src="https://images.pexels.com/photos/846980/pexels-photo-846980.jpeg?cs=srgb&dl=pexels-moritz-b%C3%B6ing-846980.jpg&fm=jpg" width="100%" class="card-img-top" alt="...">
//   <div class="card-body">
//     <h1 class=" card-title mt-3 ms-2 mb-2">${temperature}<sup>o</sup>C</h1>
//         <h5 class=" card-title mt-3 ms-2 mb-2">feels like ${temperature}<sup>o</sup>C</h5>

//         <h5 class=" card-title mt-3 ms-2 mb-2">${cname}</h5>

//        <h5 class=" card-title mt-3 ms-2 mb-2">${date}</h5>
    
//   </div>
// </div>`



        })
    
    }
        else{
            alert('Please enter the city name')
        }
    }
</script>
</html>